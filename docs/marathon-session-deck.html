<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>The Marathon Session - Amplifier Stories</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --font-headline: clamp(36px, 10vw, 72px);
            --font-medium-headline: clamp(28px, 6vw, 48px);
            --font-subhead: clamp(18px, 4vw, 28px);
            --font-body: clamp(14px, 2.5vw, 16px);
            --font-small: clamp(12px, 2vw, 14px);
            --font-code: clamp(12px, 2vw, 15px);
            --padding-slide: clamp(60px, 10vw, 120px) clamp(20px, 5vw, 80px) clamp(80px, 12vw, 100px);
            --gap-grid: clamp(16px, 4vw, 40px);
            --radius-card: clamp(12px, 2vw, 16px);
            --color-accent: #FF6B35;
            --color-accent-dim: rgba(255, 107, 53, 0.15);
            --color-accent-border: rgba(255, 107, 53, 0.3);
            --color-success: #30D158;
            --color-warning: #FFD60A;
            --color-error: #FF453A;

    /* Surface hierarchy (injected by deck-style-fix) */
    --surface-1: rgba(255,255,255,0.06);
    --surface-2: rgba(255,255,255,0.10);
    --surface-3: rgba(255,255,255,0.15);
    --border-subtle: rgba(255,255,255,0.12);
    --text-primary: #ffffff;
    --text-readable: rgba(255,255,255,0.7);
    --text-muted-floor: rgba(255,255,255,0.5);
}

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
            background: #000;
            color: #fff;
            overflow-x: hidden;
            overflow-y: auto;
        }

        .slide {
            display: none;
            min-height: 100vh;
            min-height: 100dvh;
            padding: var(--padding-slide);
            flex-direction: column;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .slide.active {
            display: flex;
        }

        .headline {
            font-size: var(--font-headline);
            font-weight: 700;
            letter-spacing: clamp(-1px, -0.03em, -2px);
            line-height: 1.1;
            margin-bottom: clamp(16px, 3vw, 24px);
        }

        .subhead {
            font-size: var(--font-subhead);
            font-weight: 400;
            color: rgba(255,255,255,0.7);
            line-height: 1.4;
        }

        .section-label {
            font-size: var(--font-small);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--color-accent);
            margin-bottom: clamp(12px, 2vw, 16px);
        }

        .medium-headline {
            font-size: var(--font-medium-headline);
            font-weight: 600;
            letter-spacing: -1px;
            line-height: 1.2;
            margin-bottom: clamp(16px, 3vw, 24px);
        }

        .center {
            text-align: center;
            align-items: center;
            justify-content: center;
        }

        .thirds {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(280px, 100%), 1fr));
            gap: var(--gap-grid);
            margin-top: clamp(24px, 4vw, 40px);
        }

        .halves {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
            gap: var(--gap-grid);
            margin-top: clamp(24px, 4vw, 40px);
        }

        .card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: var(--radius-card);
            padding: clamp(20px, 4vw, 32px);
        }

        .card-title {
            font-size: clamp(16px, 3vw, 20px);
            font-weight: 600;
            margin-bottom: clamp(8px, 1.5vw, 12px);
            color: var(--color-accent);
        }

        .card-text {
            font-size: var(--font-body);
            color: rgba(255,255,255,0.7);
            line-height: 1.5;
        }

        .card-number {
            font-size: clamp(28px, 5vw, 40px);
            font-weight: 700;
            color: var(--color-accent);
            margin-bottom: clamp(4px, 1vw, 8px);
            font-variant-numeric: tabular-nums;
        }

        .code-block {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: clamp(8px, 1.5vw, 12px);
            padding: clamp(16px, 3vw, 24px);
            font-family: 'SF Mono', 'Fira Code', Consolas, monospace;
            font-size: var(--font-code);
            white-space: pre-wrap;
            word-break: break-word;
            line-height: 1.6;
            color: #98D4A0;
            margin: clamp(12px, 2vw, 20px) 0;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        .code-comment { color: rgba(255,255,255,0.4); }
        .code-keyword { color: #FF7AC6; }
        .code-string { color: #98D4A0; }
        .code-accent { color: #FF6B35; }

        .feature-list {
            list-style: none;
            margin-top: clamp(16px, 3vw, 24px);
        }

        .feature-list li {
            font-size: clamp(16px, 3vw, 22px);
            padding: clamp(12px, 2vw, 16px) 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex;
            align-items: flex-start;
            gap: clamp(12px, 2vw, 16px);
        }

        .feature-list li:last-child { border-bottom: none; }

        .check {
            color: var(--color-accent);
            font-size: clamp(20px, 3vw, 24px);
            flex-shrink: 0;
            line-height: 1.2;
        }

        .highlight-box {
            background: var(--color-accent-dim);
            border: 1px solid var(--color-accent-border);
            border-radius: var(--radius-card);
            padding: clamp(16px, 3vw, 24px) clamp(20px, 4vw, 32px);
            margin: clamp(16px, 3vw, 24px) 0;
            font-size: var(--font-body);
            line-height: 1.5;
        }

        .stat-row {
            display: flex;
            flex-wrap: wrap;
            gap: clamp(24px, 5vw, 60px);
            margin-top: clamp(24px, 4vw, 40px);
            justify-content: center;
        }

        .stat {
            text-align: center;
            min-width: 100px;
        }

        .stat-number {
            font-size: clamp(36px, 8vw, 64px);
            font-weight: 700;
            color: var(--color-accent);
            font-variant-numeric: tabular-nums;
        }

        .stat-label {
            font-size: var(--font-body);
            color: rgba(255,255,255,0.6);
            margin-top: clamp(4px, 1vw, 8px);
        }

        .hero-numbers {
            font-size: clamp(20px, 4vw, 32px);
            font-weight: 600;
            color: var(--color-accent);
            letter-spacing: -0.5px;
            margin-bottom: clamp(8px, 2vw, 16px);
        }

        .metric-table {
            width: 100%;
            max-width: 640px;
            margin: clamp(24px, 4vw, 40px) auto 0;
            border-collapse: collapse;
        }

        .metric-table tr {
            border-bottom: 1px solid rgba(255,255,255,0.08);
        }

        .metric-table tr:last-child {
            border-bottom: none;
        }

        .metric-table td {
            padding: clamp(10px, 2vw, 14px) clamp(12px, 2vw, 20px);
            font-size: clamp(15px, 2.5vw, 18px);
        }

        .metric-table td:first-child {
            color: rgba(255,255,255,0.6);
        }

        .metric-table td:last-child {
            font-weight: 600;
            text-align: right;
            color: var(--color-accent);
            font-variant-numeric: tabular-nums;
        }

        .diagram {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            gap: clamp(12px, 2vw, 24px);
            margin: clamp(24px, 4vw, 40px) 0;
        }

        .diagram-box {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: var(--radius-card);
            padding: clamp(16px, 3vw, 24px) clamp(20px, 4vw, 32px);
            text-align: center;
            min-width: clamp(140px, 25vw, 180px);
        }

        .diagram-box.highlight {
            background: var(--color-accent-dim);
            border-color: var(--color-accent-border);
        }

        .diagram-box-title {
            font-size: var(--font-small);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: rgba(255,255,255,0.5);
            margin-bottom: clamp(4px, 1vw, 8px);
        }

        .diagram-box-content {
            font-size: clamp(16px, 3vw, 20px);
            font-weight: 600;
        }

        .diagram-arrow {
            font-size: clamp(24px, 4vw, 32px);
            color: rgba(255,255,255,0.3);
        }

        .quote-block {
            background: var(--color-accent-dim);
            border-left: 4px solid var(--color-accent);
            border-radius: 0 var(--radius-card) var(--radius-card) 0;
            padding: clamp(20px, 4vw, 32px) clamp(24px, 5vw, 40px);
            margin: clamp(16px, 3vw, 24px) 0;
            font-size: clamp(16px, 3vw, 22px);
            font-style: italic;
            line-height: 1.5;
            color: rgba(255,255,255,0.9);
        }

        .quote-block .attribution {
            font-style: normal;
            font-size: var(--font-small);
            color: rgba(255,255,255,0.5);
            margin-top: clamp(8px, 1.5vw, 12px);
        }

        .fitness-good {
            border-left: 3px solid var(--color-success);
        }

        .fitness-bad {
            border-left: 3px solid var(--color-error);
        }

        .fitness-label {
            font-size: var(--font-small);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: clamp(6px, 1vw, 8px);
        }

        .fitness-good .fitness-label { color: var(--color-success); }
        .fitness-bad .fitness-label { color: var(--color-error); }

        .pattern-number {
            font-size: clamp(24px, 4vw, 36px);
            font-weight: 700;
            color: var(--color-accent);
            min-width: clamp(36px, 6vw, 48px);
            flex-shrink: 0;
        }

        .pattern-content strong {
            display: block;
            font-size: clamp(16px, 2.5vw, 18px);
            margin-bottom: 4px;
            color: #fff;
        }

        .pattern-content {
            font-size: var(--font-body);
            color: rgba(255,255,255,0.7);
            line-height: 1.4;
        }

        .tradeoff-bar {
            display: flex;
            height: clamp(32px, 5vw, 40px);
            border-radius: 8px;
            overflow: hidden;
            margin: clamp(16px, 3vw, 24px) 0;
            max-width: 500px;
        }

        .tradeoff-segment {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-small);
            font-weight: 600;
        }

        .nav {
            position: fixed;
            bottom: clamp(20px, 4vw, 30px);
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: clamp(6px, 1vw, 8px);
            z-index: 100;
            padding: 8px;
        }

        .nav-dot {
            width: clamp(10px, 2vw, 8px);
            height: clamp(10px, 2vw, 8px);
            min-width: 10px;
            min-height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            -webkit-tap-highlight-color: transparent;
        }

        .nav-dot.active {
            background: var(--color-accent);
            width: clamp(20px, 3vw, 24px);
            border-radius: 4px;
        }

        .slide-counter {
            position: fixed;
            bottom: clamp(20px, 4vw, 30px);
            right: clamp(20px, 4vw, 40px);
            font-size: var(--font-small);
            color: rgba(255,255,255,0.4);
        }

        .small-text {
            font-size: var(--font-small);
            color: rgba(255,255,255,0.5);
            margin-top: clamp(12px, 2vw, 16px);
        }

        .more-stories {
            position: fixed;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            color: rgba(255,255,255,0.3);
            text-decoration: none;
            z-index: 100;
        }
        .more-stories:hover { color: rgba(255,255,255,0.5); }

        @media (max-width: 600px) {
            .diagram-arrow { display: none; }
            .diagram { flex-direction: column; }
        }

        @media (hover: none) {
            .nav-dot { min-width: 14px; min-height: 14px; }
        }
    </style>
</head>
<body>
    <!-- Slide 1: Title -->
    <div class="slide active center">
        <div class="section-label">Case Study</div>
        <h1 class="headline">The Marathon Session</h1>
        <div class="hero-numbers">62 Hours. 9 Prompts. 147 Commits.</div>
        <p class="subhead" style="max-width: 700px;">How an Amplifier session built an entire TUI application autonomously</p>
        <div class="small-text" style="margin-top: 40px;">Session 653a396c &bull; amplifier-tui &bull; February 2026</div>
    </div>

    <!-- Slide 2: The Setup -->
    <div class="slide">
        <div class="section-label">The Setup</div>
        <h2 class="headline">Symphony night</h2>
        <p class="subhead" style="max-width: 800px; margin-bottom: clamp(16px, 3vw, 24px);">A developer built testing tools, wrote a feature roadmap, pointed the agent at its memory file&mdash;then left for the evening.</p>
        <div class="thirds">
            <div class="card">
                <div class="card-title">The Project</div>
                <div class="card-text">amplifier-tui &mdash; a Textual-based terminal UI for Amplifier. A full interactive TUI for managing sessions, running commands, and browsing history.</div>
            </div>
            <div class="card">
                <div class="card-title">The Prep Work</div>
                <div class="card-text">SVG-based visual verification tools built first. A feature list. A SESSION-HANDOFF.md with architecture decisions and conventions.</div>
            </div>
            <div class="card">
                <div class="card-title">The Launch</div>
                <div class="card-text">&ldquo;Work through as many features as you can. Commit after each one. Be ambitious. I have to leave for a while now.&rdquo;</div>
            </div>
        </div>
    </div>

    <!-- Slide 3: The Numbers -->
    <div class="slide center">
        <div class="section-label">By the Numbers</div>
        <h2 class="medium-headline">What one session produced</h2>
        <table class="metric-table">
            <tr><td>Wall-clock duration</td><td>62 hours</td></tr>
            <tr><td>Active work time</td><td>~22 hours</td></tr>
            <tr><td>Human prompts</td><td>9</td></tr>
            <tr><td>Sub-sessions spawned</td><td>440</td></tr>
            <tr><td>Context compactions</td><td>631</td></tr>
            <tr><td>Git commits</td><td>147</td></tr>
            <tr><td>Feature commits</td><td>138</td></tr>
            <tr><td>Errors / failures</td><td>0</td></tr>
            <tr><td>Events logged</td><td>10,600</td></tr>
        </table>
    </div>

    <!-- Slide 4: The Compaction Survival Story -->
    <div class="slide">
        <div class="section-label">Compaction Survival</div>
        <h2 class="medium-headline">631 compactions. Zero lost context.</h2>
        <p class="subhead" style="margin-bottom: clamp(16px, 2vw, 24px);">The session&rsquo;s memory was wiped 631 times&mdash;and it kept building.</p>

        <div class="halves">
            <div class="card">
                <div class="card-number">103K</div>
                <div class="card-title">Post-Compaction Tokens</div>
                <div class="card-text">Stayed stable at ~103&ndash;105K throughout the entire session. Consistent working memory baseline.</div>
            </div>
            <div class="card">
                <div class="card-number">1.2M</div>
                <div class="card-title">Peak Pre-Compaction</div>
                <div class="card-text">Context grew from 111K to 1.2M tokens before each compaction. By the end, 92% was discarded each cycle.</div>
            </div>
        </div>

        <div class="highlight-box" style="max-width: 700px; margin-left: auto; margin-right: auto;">
            <strong>The key insight:</strong> the orchestrator&rsquo;s own state was tiny. It only tracked &ldquo;what feature am I on?&rdquo;&mdash;everything else lived in disposable sub-sessions. Small state survives aggressive compaction.
        </div>
    </div>

    <!-- Slide 5: The Architecture -->
    <div class="slide">
        <div class="section-label">Architecture</div>
        <h2 class="medium-headline">Orchestrator + Disposable Workers</h2>
        <p class="subhead" style="margin-bottom: clamp(8px, 2vw, 16px);">The main session never wrote a single line of code.</p>

        <div class="diagram">
            <div class="diagram-box highlight">
                <div class="diagram-box-title">Orchestrator</div>
                <div class="diagram-box-content">Main Session</div>
            </div>
            <div class="diagram-arrow">&rarr;</div>
            <div class="diagram-box">
                <div class="diagram-box-title">145 &times;</div>
                <div class="diagram-box-content">self-delegate</div>
            </div>
            <div class="diagram-arrow">&rarr;</div>
            <div class="diagram-box">
                <div class="diagram-box-title">159 &times;</div>
                <div class="diagram-box-content">git-ops</div>
            </div>
        </div>

        <div class="thirds">
            <div class="card">
                <div class="card-title">Pure Orchestration</div>
                <div class="card-text">Main session only decided <em>what</em> to build next. Never touched code directly.</div>
            </div>
            <div class="card">
                <div class="card-title">Disposable Workers</div>
                <div class="card-text">Each feature built in a fresh sub-session. Full context window for the task. Discarded after commit.</div>
            </div>
            <div class="card">
                <div class="card-title">Tiny Footprint</div>
                <div class="card-text">Orchestration state = feature list + current position. Survives any amount of compaction.</div>
            </div>
        </div>
    </div>

    <!-- Slide 6: The Critical Prompt -->
    <div class="slide">
        <div class="section-label">The Launch Prompt</div>
        <h2 class="medium-headline">Four lines that defined the architecture</h2>

        <div class="quote-block">
            &ldquo;Work through as many features as you can, one at a time with subagents so you don&rsquo;t get exhausted.&rdquo;<br><br>
            &ldquo;Commit and push after each one.&rdquo;<br><br>
            &ldquo;Be ambitious.&rdquo;<br><br>
            &ldquo;I have to leave for a while now.&rdquo;
            <div class="attribution">&mdash; The human&rsquo;s 3rd prompt, starting the autonomous run</div>
        </div>

        <div class="highlight-box">
            <strong>Why this worked:</strong> &ldquo;one at a time with subagents&rdquo; taught the compaction-survival architecture. &ldquo;Commit after each one&rdquo; created natural checkpoints. &ldquo;Be ambitious&rdquo; gave permission to keep going. &ldquo;I have to leave&rdquo; removed the expectation of feedback loops.
        </div>
    </div>

    <!-- Slide 7: Why the Domain Was Perfect -->
    <div class="slide">
        <div class="section-label">Domain Fitness</div>
        <h2 class="medium-headline">TUI features are naturally modular</h2>

        <div class="halves">
            <div class="card fitness-good">
                <div class="fitness-label">Best Domains</div>
                <div class="card-text" style="color: rgba(255,255,255,0.8);">
                    Self-contained features. Each one is add-a-keybinding, implement-a-handler. New features don&rsquo;t modify existing ones. 1&ndash;3 files per feature.<br><br>
                    <strong style="color: var(--color-success);">CLI features &bull; UI components &bull; API endpoints &bull; Test suites</strong>
                </div>
            </div>
            <div class="card fitness-bad">
                <div class="fitness-label">Worst Domains</div>
                <div class="card-text" style="color: rgba(255,255,255,0.8);">
                    Cross-cutting changes. Tasks where you need to understand the whole system. High dependency between pieces.<br><br>
                    <strong style="color: var(--color-error);">Refactoring &bull; Architecture changes &bull; Complex debugging</strong>
                </div>
            </div>
        </div>

        <div class="highlight-box">
            <strong>The pattern:</strong> /search doesn&rsquo;t need to understand /theme. Each TUI feature has clear boundaries&mdash;a keybinding, a handler, maybe a new widget. Sub-agents get full context in a single session.
        </div>
    </div>

    <!-- Slide 8: External Memory -->
    <div class="slide">
        <div class="section-label">External Memory</div>
        <h2 class="medium-headline">SESSION-HANDOFF.md as lifeline</h2>
        <p class="subhead" style="margin-bottom: clamp(16px, 3vw, 24px);">When context compacts, files on disk survive.</p>

        <div class="code-block"><span class="code-comment"># SESSION-HANDOFF.md</span>

<span class="code-accent">## Architecture Decisions</span>
- Textual framework, not curses
- Dark theme with accent colors
- All commands via command palette

<span class="code-accent">## Conventions</span>
- Feature per file in features/
- Tests mirror source structure
- Commit messages: "feat: description"

<span class="code-accent">## Feature Roadmap</span>
- [ ] /search command
- [ ] /theme switcher
- [ ] Session history browser
- [ ] ...</div>

        <div class="stat-row">
            <div class="stat">
                <div class="stat-number">4</div>
                <div class="stat-label">Times read during session</div>
            </div>
            <div class="stat">
                <div class="stat-number">631</div>
                <div class="stat-label">Compactions survived</div>
            </div>
            <div class="stat">
                <div class="stat-number">1st</div>
                <div class="stat-label">Prompt: &ldquo;Read SESSION-HANDOFF.md&rdquo;</div>
            </div>
        </div>
    </div>

    <!-- Slide 9: Build Testing Tools First -->
    <div class="slide">
        <div class="section-label">Verification Pipeline</div>
        <h2 class="medium-headline">Build testing tools before the marathon</h2>
        <p class="subhead" style="margin-bottom: clamp(8px, 2vw, 16px);">SVG-based visual verification gave sub-agents a way to self-check without a human.</p>

        <div class="thirds">
            <div class="card">
                <div class="card-title">tui_capture.py</div>
                <div class="card-text">Headless screenshot via Textual Pilot API. Captures the TUI as SVG without a terminal.</div>
            </div>
            <div class="card">
                <div class="card-title">svg_parser.py</div>
                <div class="card-text">Extracts text content, colors, and positions from SVG. Structured data, not pixels.</div>
            </div>
            <div class="card">
                <div class="card-title">ux_test.sh</div>
                <div class="card-text">One-command validation. Run the TUI, capture, parse, assert. Full pipeline in seconds.</div>
            </div>
        </div>

        <div class="highlight-box">
            <strong>SVG parsing beats OCR for TUI work.</strong> The Textual framework renders to SVG natively. Parsing SVG for text and layout is deterministic&mdash;no model inference, no flakiness. Each sub-agent could verify its own work.
        </div>
    </div>

    <!-- Slide 10: The Honest Tradeoff -->
    <div class="slide">
        <div class="section-label">Honest Assessment</div>
        <h2 class="medium-headline">Feature reimplementation was real</h2>

        <div class="halves">
            <div class="card">
                <div class="card-number">~50&ndash;60</div>
                <div class="card-title">Truly Unique Features</div>
                <div class="card-text">Out of 138 feature commits. Later batches (15+) repeated features from batches 1&ndash;5. No deduplication mechanism existed.</div>
            </div>
            <div class="card" style="display: flex; flex-direction: column; justify-content: center;">
                <div style="margin-bottom: clamp(12px, 2vw, 16px);">
                    <div style="display: flex; justify-content: space-between; font-size: var(--font-small); margin-bottom: 6px;">
                        <span style="color: var(--color-success);">Features 1&ndash;30: all unique</span>
                        <span style="color: var(--color-error);">60&ndash;138: heavy overlap</span>
                    </div>
                    <div class="tradeoff-bar" style="max-width: 100%;">
                        <div class="tradeoff-segment" style="flex: 30; background: var(--color-success);">unique</div>
                        <div class="tradeoff-segment" style="flex: 30; background: var(--color-warning); color: #757575;">mixed</div>
                        <div class="tradeoff-segment" style="flex: 78; background: var(--color-error);">overlap</div>
                    </div>
                </div>
                <div class="card-text"><strong style="color: #fff;">The fix:</strong> maintain a COMPLETED.md file or check git log before starting each feature. A simple deduplication gate.</div>
            </div>
        </div>
    </div>

    <!-- Slide 11: Five Generalizable Patterns -->
    <div class="slide">
        <div class="section-label">Patterns</div>
        <h2 class="medium-headline">Five patterns for long-running agents</h2>

        <ul class="feature-list">
            <li>
                <span class="pattern-number">1</span>
                <div class="pattern-content"><strong>Orchestrator + Disposable Workers</strong>Main session delegates everything, stays small. Survives compaction.</div>
            </li>
            <li>
                <span class="pattern-number">2</span>
                <div class="pattern-content"><strong>External Memory Files</strong>SESSION-HANDOFF.md on disk survives any amount of compaction. The agent&rsquo;s true long-term memory.</div>
            </li>
            <li>
                <span class="pattern-number">3</span>
                <div class="pattern-content"><strong>Commit-After-Each Cadence</strong>Natural checkpoints. Easy rollback. Progress is always saved to git.</div>
            </li>
            <li>
                <span class="pattern-number">4</span>
                <div class="pattern-content"><strong>Build Verification First</strong>Testing tools before the feature marathon. Sub-agents can self-check.</div>
            </li>
            <li>
                <span class="pattern-number">5</span>
                <div class="pattern-content"><strong>Deduplication Gate</strong>Check what&rsquo;s done before starting the next feature. The missing pattern from this session.</div>
            </li>
        </ul>
    </div>

    <!-- Slide 12: The Prompting Playbook -->
    <div class="slide">
        <div class="section-label">Prompting Playbook</div>
        <h2 class="medium-headline">What the human did right</h2>

        <div class="thirds">
            <div class="card">
                <div class="card-title">External Memory Pointers</div>
                <div class="card-text">&ldquo;Read SESSION-HANDOFF.md&rdquo; &mdash; point the agent at its own memory instead of repeating context.</div>
            </div>
            <div class="card">
                <div class="card-title">Minimal Interventions</div>
                <div class="card-text">Most prompts were &ldquo;yes, go ahead&rdquo; or &ldquo;keep going.&rdquo; Only 9 prompts total across 62 hours.</div>
            </div>
            <div class="card">
                <div class="card-title">Delegation Instruction</div>
                <div class="card-text">&ldquo;One at a time with subagents&rdquo; &mdash; a single sentence that defined the compaction-safe architecture.</div>
            </div>
            <div class="card">
                <div class="card-title">Open-Ended Permission</div>
                <div class="card-text">&ldquo;Be ambitious.&rdquo; &ldquo;Add as many as you can.&rdquo; Giving scope and trust rather than prescriptive lists.</div>
            </div>
            <div class="card">
                <div class="card-title">Specific When Needed</div>
                <div class="card-text">When intervening, gave exact text references and concrete direction&mdash;never vague descriptions.</div>
            </div>
            <div class="card">
                <div class="card-title">Architect, Not Worker</div>
                <div class="card-text">The user&rsquo;s role was to design the agent&rsquo;s work architecture, not to do the work itself.</div>
            </div>
        </div>
    </div>

    <!-- Slide 13: The Sequel -->
    <div class="slide">
        <div class="section-label">The Sequel</div>
        <h2 class="medium-headline">Two weeks later, the same pattern&mdash;refined</h2>
        <p class="subhead" style="margin-bottom: clamp(16px, 3vw, 24px);">The developer had learned from Session 1. This time: plan first, then launch.</p>

        <div class="halves">
            <div class="card">
                <div class="card-title">Session 1: &ldquo;Be ambitious, go.&rdquo;</div>
                <div class="card-text">Open-ended feature list. No specs. No test IDs. The agent decided what to build as it went. Brilliant improvisation&mdash;but duplication crept in after batch 5.</div>
            </div>
            <div class="card" style="border-color: var(--color-accent-border); background: var(--color-accent-dim);">
                <div class="card-title">Session 2: &ldquo;Here&rsquo;s exactly what to build.&rdquo;</div>
                <div class="card-text">Full health audit first: all 356 tests passing. 16 features brainstormed across 5 waves, specced with acceptance criteria, pre-assigned test IDs. An orchestration context file. The deduplication problem was solved before the session started.</div>
            </div>
        </div>

        <div class="highlight-box">
            <strong>The preparation:</strong> FEATURE-BACKLOG.md with full specs and pre-assigned test IDs. build-session.md as the orchestration context. All 356 existing tests verified (263 unit + 93 interactive) before launch. Committed at 5745df1&mdash;then one prompt to go.
        </div>
    </div>

    <!-- Slide 14: The Overnight Build -->
    <div class="slide center">
        <div class="section-label">Session 2 Results</div>
        <h2 class="medium-headline">14 features. 659 new tests. One prompt.</h2>
        <p class="subhead" style="margin-bottom: clamp(16px, 3vw, 24px);">&ldquo;Run the build session. Work through the feature backlog.&rdquo;</p>

        <table class="metric-table">
            <tr><td>Session Tags</td><td>44 tests</td></tr>
            <tr><td>Clipboard Ring</td><td>52 tests</td></tr>
            <tr><td>Inline Diff</td><td>45 tests</td></tr>
            <tr><td>Agent Tree View</td><td>56 tests</td></tr>
            <tr><td>Context Profiler</td><td>47 tests</td></tr>
            <tr><td>Tool Introspection</td><td>50 tests</td></tr>
            <tr><td>Recipe Pipeline Viz</td><td>49 tests</td></tr>
            <tr><td>Smart /include</td><td>48 tests</td></tr>
            <tr><td>Conversation Branching</td><td>57 tests</td></tr>
            <tr><td>Model A/B Testing</td><td>52 tests</td></tr>
            <tr><td>Session Replay</td><td>91 tests</td></tr>
            <tr><td>Plugin System</td><td>53 tests</td></tr>
            <tr><td>Heatmap Dashboard</td><td>65 tests</td></tr>
        </table>

        <div class="stat-row" style="margin-top: clamp(24px, 4vw, 40px);">
            <div class="stat">
                <div class="stat-number">263</div>
                <div class="stat-label">Tests before</div>
            </div>
            <div class="stat">
                <div class="stat-number">922</div>
                <div class="stat-label">Tests after</div>
            </div>
            <div class="stat">
                <div class="stat-number">3.5&times;</div>
                <div class="stat-label">Growth</div>
            </div>
            <div class="stat">
                <div class="stat-number">15</div>
                <div class="stat-label">Commits pushed</div>
            </div>
        </div>
    </div>

    <!-- Slide 15: The Compounding Effect -->
    <div class="slide">
        <div class="section-label">The Pattern</div>
        <h2 class="medium-headline">Each session makes the next one better</h2>

        <div class="thirds">
            <div class="card">
                <div class="card-title">Session 1 Taught</div>
                <div class="card-text">Orchestrator + disposable workers. Commit after each feature. External memory files. Open-ended permission works&mdash;but needs a deduplication gate.</div>
            </div>
            <div class="card">
                <div class="card-title">Session 2 Applied</div>
                <div class="card-text">Structured feature backlog with specs. Pre-assigned test IDs for every feature. Orchestration context file. The backlog <em>is</em> the deduplication gate.</div>
            </div>
            <div class="card">
                <div class="card-title">The Result</div>
                <div class="card-text">14 features in one evening, zero duplication. Session 1&rsquo;s missing pattern&mdash;a deduplication gate&mdash;was solved by the feature backlog itself.</div>
            </div>
        </div>

        <div class="halves" style="margin-top: clamp(16px, 3vw, 24px);">
            <div class="card fitness-good">
                <div class="fitness-label">Session 1</div>
                <div class="card-text" style="color: rgba(255,255,255,0.8);">~50&ndash;60 unique features over 62 hours. 9 prompts. Creative but some duplication. Pioneered the architecture.</div>
            </div>
            <div class="card fitness-good">
                <div class="fitness-label">Session 2</div>
                <div class="card-text" style="color: rgba(255,255,255,0.8);">14 features in one evening. 1 prompt. Zero duplication. 659 new tests. Refined the architecture.</div>
            </div>
        </div>

        <div class="highlight-box">
            <strong>The compounding insight:</strong> Session 1 was exploration&mdash;discover what works. Session 2 was exploitation&mdash;apply what you learned. The human&rsquo;s role evolves from architect to systems designer.
        </div>
    </div>

    <!-- Slide 16: CTA -->
    <div class="slide center">
        <div class="section-label">Try It Yourself</div>
        <h2 class="headline">Design the work.<br>Let the agent build.</h2>
        <p class="subhead" style="max-width: 700px; margin-top: clamp(8px, 2vw, 16px);">Two sessions. One pattern refined. The human&rsquo;s role is to design the agent&rsquo;s work architecture, not to do the work.</p>

        <div class="stat-row" style="margin-top: clamp(32px, 6vw, 60px);">
            <div class="stat">
                <div class="stat-number">2</div>
                <div class="stat-label">Sessions</div>
            </div>
            <div class="stat">
                <div class="stat-number">162</div>
                <div class="stat-label">Commits</div>
            </div>
            <div class="stat">
                <div class="stat-number">922</div>
                <div class="stat-label">Tests</div>
            </div>
            <div class="stat">
                <div class="stat-number">0</div>
                <div class="stat-label">Errors</div>
            </div>
        </div>

        <div class="small-text" style="margin-top: clamp(32px, 5vw, 60px);">
            The TUI: github.com/ramparte/amplifier-tui<br>
            Amplifier: github.com/microsoft/amplifier<br><br>
            <span style="color: var(--color-accent);">Orchestrate. Delegate. Ship.</span>
        </div>
    </div>

    <!-- Navigation -->
    <div class="nav" id="nav"></div>
    <div class="slide-counter" id="counter"></div>
    <a href="index.html" class="more-stories">More Amplifier Stories</a>

    <script>
        const slides = document.querySelectorAll('.slide');
        let currentSlide = 0;
        let touchStartX = 0;
        let touchEndX = 0;

        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (n + slides.length) % slides.length;
            slides[currentSlide].classList.add('active');
            updateNav();
        }

        function updateNav() {
            const nav = document.getElementById('nav');
            const counter = document.getElementById('counter');
            nav.innerHTML = '';
            slides.forEach((_, i) => {
                const dot = document.createElement('div');
                dot.className = 'nav-dot' + (i === currentSlide ? ' active' : '');
                dot.onclick = (e) => { e.stopPropagation(); showSlide(i); };
                nav.appendChild(dot);
            });
            counter.textContent = `${currentSlide + 1} / ${slides.length}`;
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') showSlide(currentSlide + 1);
            if (e.key === 'ArrowLeft') showSlide(currentSlide - 1);
        });

        document.addEventListener('click', (e) => {
            if (e.target.closest('.nav') || e.target.closest('.more-stories')) return;
            if (e.clientX > window.innerWidth / 2) showSlide(currentSlide + 1);
            else showSlide(currentSlide - 1);
        });

        document.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });

        document.addEventListener('touchend', (e) => {
            if (e.target.closest('.nav') || e.target.closest('.more-stories')) return;
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }, { passive: true });

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) showSlide(currentSlide + 1);
                else showSlide(currentSlide - 1);
            }
        }

        updateNav();
    </script>
</body>
</html>
